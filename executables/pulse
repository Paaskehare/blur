#!/usr/bin/env ruby
# encoding: utf-8

$:.unshift File.dirname(__FILE__) + '/../library'
require 'pulse'

Pulse.connect hostname: 'irc.metabox.it', nickname: 'pulse' do
  puts "=> Pulse #{Pulse::Version}"

  catch :connection_ready do
    @connection.transmit :JOIN, '#maero'
  end

  catch :conversation do |user, conversation, line|
    conversation.say "Conversation: #{conversation.inspect}"
  end
end
